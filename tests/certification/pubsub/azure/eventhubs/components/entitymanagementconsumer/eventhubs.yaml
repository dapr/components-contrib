apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: messagebus
  namespace: default
spec:
  type: pubsub.azure.eventhubs
  version: v1
  metadata:
    - name: enableEntityManagement
      value : true
    - name: eventHubNamespace
      secretKeyRef:
        name: CertificationAzureEventHubsNameSpaceName
        key: CertificationAzureEventHubsNameSpaceName    
    - name: azureTenantId
      secretKeyRef:
        name: CertificationAzureEventHubsazureTenantId
        key: CertificationAzureEventHubsazureTenantId    
    - name: azureClientId
      secretKeyRef:
        name: CertificationAzureEventHubsAzureClientId
        key: CertificationAzureEventHubsAzureClientId   
    - name: azureClientSecret
      secretKeyRef:
        name: CertificationAzureEventHubsAzureClientSecret
        key: CertificationAzureEventHubsAzureClientSecret
    - name: resourceGroupName
      secretKeyRef:
        name: CertificationAzureEventHubsResourceGroupName
        key: CertificationAzureEventHubsResourceGroupName
    - name: subscriptionID
      secretKeyRef:
        name: CertificationAzureEventHubsSubscriptionID
        key: CertificationAzureEventHubsSubscriptionID
    - name: storageAccountName
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountName
        key: CertificationAzureEventHubsStorageAccountName
    - name: storageAccountKey
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountKey
        key: CertificationAzureEventHubsStorageAccountKey
    - name: storageContainerName
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountContainerName
        key: CertificationAzureEventHubsStorageAccountContainerName
auth:
  secretstore: envvar-secret-store
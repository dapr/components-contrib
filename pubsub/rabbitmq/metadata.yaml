# yaml-language-server: $schema=../../component-metadata-schema.json
schemaVersion: v1
type: pubsub
name: rabbitmq
version: v1
status: stable
title: "RabbitMQ"
urls:
  - title: Reference
    url: https://docs.dapr.io/reference/components-reference/supported-pubsub/setup-rabbitmq/ 
capabilities:
  - ttl
authenticationProfiles:
  - title: "Connection string"
    description: "Authenticate using a connection string."
    metadata:
      - name: connectionString
        required: true
        sensitive: true
        description: "Shared access policy connection string for the Service Bus."
        example: |
          "Endpoint=sb://{ServiceBusNamespace}.servicebus.windows.net/;SharedAccessKeyName={PolicyName};SharedAccessKey={Key};EntityPath={ServiceBus}"
        # If omitted, uses the same values as "<root>.binding"
        binding:
          output: true
          input: true
metadata:
  - name: consumerID
    description: "Consumer ID (a.k.a consumer tag) organizes one or more consumers into a group. Consumers with the same consumer ID work as one virtual consumer, i.e. a message is processed only once by one of the consumers in the group. If the consumer ID is not set, the dapr runtime will set it to the dapr application ID."
    type: string
    default: "The ID of the app"
    example: "myconsumer"
  - name: maxConnectionRecoveryInSec
    description: "Maximum interval (in seconds) to wait before attempting to reconnect to Azure Service Bus in case of a connection failure. After each attempt, the binding waits a random number of seconds, increasing every time, between the minimum and the maximum. Default is 300 seconds (5 minutes)."
    type: number
    default: '300'
    example: '600'

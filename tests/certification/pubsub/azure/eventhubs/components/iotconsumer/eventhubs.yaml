apiVersion: dapr.io/v1alpha1
kind: Component
metadata:
  name: messagebus
  namespace: default
spec:
  type: pubsub.azure.eventhubs
  version: v1
  metadata:
    - name: consumerID
      secretKeyRef:
        name: CertificationAzureEventHubsIOTHubConsumerID
        key: CertificationAzureEventHubsIOTHubConsumerID    
    - name: connectionString
      secretKeyRef:
        name: CertificationAzureEventHubsIOTHubConnectionString
        key: CertificationAzureEventHubsIOTHubConnectionString    
    - name: storageAccountName
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountName
        key: CertificationAzureEventHubsStorageAccountName
    - name: storageAccountKey
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountKey
        key: CertificationAzureEventHubsStorageAccountKey
    - name: storageContainerName
      secretKeyRef:
        name: CertificationAzureEventHubsStorageAccountContainerName
        key: CertificationAzureEventHubsStorageAccountContainerName
auth:
  secretstore: envvar-secret-store